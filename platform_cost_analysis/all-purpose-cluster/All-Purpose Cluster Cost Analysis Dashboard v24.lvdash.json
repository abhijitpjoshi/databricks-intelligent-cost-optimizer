{
  "datasets": [
    {
      "name": "all_purpose_base",
      "displayName": "All Purpose Base Data",
      "queryLines": [
        "SELECT * FROM ex_dash_temp.billing_forecast.all_purpose_base"
      ]
    },
    {
      "name": "user_telemetry",
      "displayName": "User Daily Telemetry",
      "queryLines": [
        "SELECT * FROM ex_dash_temp.billing_forecast.user_daily_telemetry"
      ]
    },
    {
      "name": "cluster_telemetry",
      "displayName": "Cluster Daily Telemetry",
      "queryLines": [
        "SELECT * FROM ex_dash_temp.billing_forecast.cluster_daily_telemetry"
      ]
    },
    {
      "name": "instance_telemetry",
      "displayName": "Instance Daily Telemetry",
      "queryLines": [
        "SELECT * FROM ex_dash_temp.billing_forecast.instance_daily_telemetry"
      ]
    },
    {
      "name": "user_total_cost",
      "displayName": "User Total Cost",
      "queryLines": [
        "SELECT * FROM ex_dash_temp.billing_forecast.user_total_cost"
      ]
    },
    {
      "name": "cluster_total_cost",
      "displayName": "Cluster Total Cost",
      "queryLines": [
        "SELECT * FROM ex_dash_temp.billing_forecast.cluster_total_cost"
      ]
    },
    {
      "name": "instance_total_cost",
      "displayName": "Instance Total Cost",
      "queryLines": [
        "SELECT * FROM ex_dash_temp.billing_forecast.instance_total_cost"
      ]
    },
    {
      "name": "user_opportunities",
      "displayName": "User Optimization Opportunities",
      "queryLines": [
        "SELECT * FROM ex_dash_temp.billing_forecast.user_opportunities"
      ]
    },
    {
      "name": "cluster_opportunities",
      "displayName": "Cluster Optimization Opportunities",
      "queryLines": [
        "SELECT * FROM ex_dash_temp.billing_forecast.cluster_opportunities"
      ]
    },
    {
      "name": "instance_opportunities",
      "displayName": "Instance Optimization Opportunities",
      "queryLines": [
        "SELECT * FROM ex_dash_temp.billing_forecast.instance_opportunities"
      ]
    },
    {
      "name": "daily_cost_trend",
      "displayName": "Daily Cost Trends",
      "queryLines": [
        "SELECT usage_date, ROUND(SUM(total_cost_usd), 2) as daily_cost, ROUND(SUM(dbus), 2) as daily_dbus, COUNT(DISTINCT principal_email) as active_users, COUNT(DISTINCT cluster_id) as active_clusters FROM ex_dash_temp.billing_forecast.all_purpose_base GROUP BY usage_date ORDER BY usage_date"
      ]
    },
    {
      "name": "workspace_cost",
      "displayName": "Workspace Cost Distribution",
      "queryLines": [
        "SELECT workspace_name, ROUND(SUM(total_cost_usd), 2) as total_cost, COUNT(DISTINCT principal_email) as user_count, COUNT(DISTINCT cluster_id) as cluster_count FROM ex_dash_temp.billing_forecast.all_purpose_base GROUP BY workspace_name ORDER BY total_cost DESC"
      ]
    },
    {
      "name": "executive_summary",
      "displayName": "Executive Summary Metrics",
      "queryLines": [
        "\n",
        "            WITH base_metrics AS (\n",
        "              SELECT \n",
        "                ROUND(SUM(total_cost_usd), 2) as total_cost,\n",
        "                COUNT(DISTINCT usage_date) as days_analyzed,\n",
        "                COUNT(DISTINCT cluster_id) as total_clusters,\n",
        "                COUNT(DISTINCT workspace_name) as total_workspaces,\n",
        "                COUNT(DISTINCT principal_email) as total_users,\n",
        "                COUNT(DISTINCT node_type) as total_instance_types,\n",
        "                ROUND(SUM(total_cost_usd) / COUNT(DISTINCT principal_email), 2) as avg_cost_per_user,\n",
        "                ROUND(SUM(total_cost_usd) / COUNT(DISTINCT cluster_id), 2) as avg_cost_per_cluster\n",
        "              FROM ex_dash_temp.billing_forecast.all_purpose_base\n",
        "            ),\n",
        "            cluster_opp AS (\n",
        "              SELECT \n",
        "                COUNT(*) as clusters_with_opp,\n",
        "                SUM(CASE WHEN opportunity_priority = 'CRITICAL' THEN 1 ELSE 0 END) as critical_clusters,\n",
        "                SUM(CASE WHEN opportunity_priority = 'HIGH' THEN 1 ELSE 0 END) as high_clusters,\n",
        "                ROUND(SUM(validated_savings), 2) as cluster_savings\n",
        "              FROM ex_dash_temp.billing_forecast.cluster_opportunities\n",
        "            ),\n",
        "            instance_opp AS (\n",
        "              SELECT \n",
        "                COUNT(*) as instances_with_opp,\n",
        "                SUM(CASE WHEN opportunity_priority = 'CRITICAL' THEN 1 ELSE 0 END) as critical_instances,\n",
        "                SUM(CASE WHEN opportunity_priority = 'HIGH' THEN 1 ELSE 0 END) as high_instances,\n",
        "                ROUND(SUM(validated_savings), 2) as instance_savings\n",
        "              FROM ex_dash_temp.billing_forecast.instance_opportunities\n",
        "            ),\n",
        "            user_opp AS (\n",
        "              SELECT \n",
        "                COUNT(*) as users_with_opp,\n",
        "                ROUND(SUM(validated_savings), 2) as user_savings\n",
        "              FROM ex_dash_temp.billing_forecast.user_opportunities\n",
        "            ),\n",
        "            avg_util AS (\n",
        "              SELECT \n",
        "                ROUND(AVG(avg_cpu_pct), 0) as avg_cpu,\n",
        "                ROUND(AVG(avg_mem_pct), 0) as avg_mem,\n",
        "                ROUND(AVG(telemetry_coverage_pct), 0) as avg_telemetry\n",
        "              FROM ex_dash_temp.billing_forecast.cluster_total_cost\n",
        "            ),\n",
        "            top_user AS (\n",
        "              SELECT principal_email as top_user, ROUND(total_cost_usd, 2) as top_user_cost\n",
        "              FROM ex_dash_temp.billing_forecast.user_total_cost\n",
        "              ORDER BY total_cost_usd DESC LIMIT 1\n",
        "            ),\n",
        "            top_cluster AS (\n",
        "              SELECT cluster_name as top_cluster, ROUND(total_cost_usd, 2) as top_cluster_cost\n",
        "              FROM ex_dash_temp.billing_forecast.cluster_total_cost\n",
        "              ORDER BY total_cost_usd DESC LIMIT 1\n",
        "            ),\n",
        "            top_instance AS (\n",
        "              SELECT instance_type as top_instance, ROUND(total_cost_usd, 2) as top_instance_cost\n",
        "              FROM ex_dash_temp.billing_forecast.instance_total_cost\n",
        "              ORDER BY total_cost_usd DESC LIMIT 1\n",
        "            )\n",
        "            SELECT \n",
        "              b.*,\n",
        "              c.clusters_with_opp,\n",
        "              c.critical_clusters,\n",
        "              c.high_clusters,\n",
        "              c.cluster_savings,\n",
        "              i.instances_with_opp,\n",
        "              i.critical_instances,\n",
        "              i.high_instances,\n",
        "              i.instance_savings,\n",
        "              u.users_with_opp,\n",
        "              u.user_savings,\n",
        "              GREATEST(c.cluster_savings, i.instance_savings, u.user_savings) as max_savings,\n",
        "              tu.top_user,\n",
        "              tu.top_user_cost,\n",
        "              tc.top_cluster,\n",
        "              tc.top_cluster_cost,\n",
        "              ti.top_instance,\n",
        "              ti.top_instance_cost,\n",
        "              av.avg_cpu,\n",
        "              av.avg_mem,\n",
        "              av.avg_telemetry,\n",
        "              ROUND((GREATEST(c.cluster_savings, i.instance_savings, u.user_savings) / b.total_cost) * 100, 1) as savings_pct\n",
        "            FROM base_metrics b, cluster_opp c, instance_opp i, user_opp u, avg_util av, top_user tu, top_cluster tc, top_instance ti\n",
        "        "
      ]
    }
  ],
  "pages": [
    {
      "name": "980b2ed3",
      "displayName": "üìä Executive Summary",
      "layout": [
        {
          "widget": {
            "name": "011d8b4f",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "executive_summary",
                  "fields": [
                    {
                      "name": "total_cost",
                      "expression": "`total_cost`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "total_cost",
                  "displayName": "Total Cost (USD)"
                }
              },
              "frame": {
                "showTitle": true,
                "title": "üí∞ Total Cost"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 0,
            "width": 2,
            "height": 3
          }
        },
        {
          "widget": {
            "name": "8d66d5ea",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "executive_summary",
                  "fields": [
                    {
                      "name": "max_savings",
                      "expression": "`max_savings`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "max_savings",
                  "displayName": "Potential Savings (USD)"
                }
              },
              "frame": {
                "showTitle": true,
                "title": "üí∏ Max Savings"
              }
            }
          },
          "position": {
            "x": 2,
            "y": 0,
            "width": 2,
            "height": 3
          }
        },
        {
          "widget": {
            "name": "42e8d04e",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "executive_summary",
                  "fields": [
                    {
                      "name": "savings_pct",
                      "expression": "`savings_pct`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "savings_pct",
                  "displayName": "Savings %"
                }
              },
              "frame": {
                "showTitle": true,
                "title": "üìà Savings %"
              }
            }
          },
          "position": {
            "x": 4,
            "y": 0,
            "width": 2,
            "height": 3
          }
        },
        {
          "widget": {
            "name": "d3bc0f64",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "executive_summary",
                  "fields": [
                    {
                      "name": "total_users",
                      "expression": "`total_users`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "total_users",
                  "displayName": "Total Users"
                }
              },
              "frame": {
                "showTitle": true,
                "title": "üë• Total Users"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 3,
            "width": 2,
            "height": 3
          }
        },
        {
          "widget": {
            "name": "b32c7ae7",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "executive_summary",
                  "fields": [
                    {
                      "name": "avg_cost_per_user",
                      "expression": "`avg_cost_per_user`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "avg_cost_per_user",
                  "displayName": "Avg Cost/User"
                }
              },
              "frame": {
                "showTitle": true,
                "title": "üë§ Avg Cost per User"
              }
            }
          },
          "position": {
            "x": 2,
            "y": 3,
            "width": 2,
            "height": 3
          }
        },
        {
          "widget": {
            "name": "ed5eee42",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "executive_summary",
                  "fields": [
                    {
                      "name": "users_with_opp",
                      "expression": "`users_with_opp`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "users_with_opp",
                  "displayName": "Users w/ Opportunities"
                }
              },
              "frame": {
                "showTitle": true,
                "title": "üéØ Users w/ Savings Opp"
              }
            }
          },
          "position": {
            "x": 4,
            "y": 3,
            "width": 2,
            "height": 3
          }
        },
        {
          "widget": {
            "name": "7e1ff387",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "executive_summary",
                  "fields": [
                    {
                      "name": "total_clusters",
                      "expression": "`total_clusters`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "total_clusters",
                  "displayName": "Total Clusters"
                }
              },
              "frame": {
                "showTitle": true,
                "title": "üñ•Ô∏è Total Clusters"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 6,
            "width": 2,
            "height": 3
          }
        },
        {
          "widget": {
            "name": "516b141b",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "executive_summary",
                  "fields": [
                    {
                      "name": "avg_cost_per_cluster",
                      "expression": "`avg_cost_per_cluster`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "avg_cost_per_cluster",
                  "displayName": "Avg Cost/Cluster"
                }
              },
              "frame": {
                "showTitle": true,
                "title": "üíª Avg Cost per Cluster"
              }
            }
          },
          "position": {
            "x": 2,
            "y": 6,
            "width": 2,
            "height": 3
          }
        },
        {
          "widget": {
            "name": "5f510089",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "executive_summary",
                  "fields": [
                    {
                      "name": "critical_clusters",
                      "expression": "`critical_clusters`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "critical_clusters",
                  "displayName": "Critical Clusters"
                }
              },
              "frame": {
                "showTitle": true,
                "title": "üî¥ Critical Clusters"
              }
            }
          },
          "position": {
            "x": 4,
            "y": 6,
            "width": 1,
            "height": 3
          }
        },
        {
          "widget": {
            "name": "c7ace051",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "executive_summary",
                  "fields": [
                    {
                      "name": "high_clusters",
                      "expression": "`high_clusters`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "high_clusters",
                  "displayName": "High Priority"
                }
              },
              "frame": {
                "showTitle": true,
                "title": "üü° High Priority"
              }
            }
          },
          "position": {
            "x": 5,
            "y": 6,
            "width": 1,
            "height": 3
          }
        },
        {
          "widget": {
            "name": "0ad4e147",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "executive_summary",
                  "fields": [
                    {
                      "name": "total_instance_types",
                      "expression": "`total_instance_types`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "total_instance_types",
                  "displayName": "Instance Types"
                }
              },
              "frame": {
                "showTitle": true,
                "title": "üíª Instance Types"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 9,
            "width": 2,
            "height": 3
          }
        },
        {
          "widget": {
            "name": "61456bcf",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "executive_summary",
                  "fields": [
                    {
                      "name": "avg_cpu",
                      "expression": "`avg_cpu`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "avg_cpu",
                  "displayName": "Avg CPU %"
                }
              },
              "frame": {
                "showTitle": true,
                "title": "‚öôÔ∏è Avg CPU Utilization"
              }
            }
          },
          "position": {
            "x": 2,
            "y": 9,
            "width": 2,
            "height": 3
          }
        },
        {
          "widget": {
            "name": "509ab9ee",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "executive_summary",
                  "fields": [
                    {
                      "name": "avg_mem",
                      "expression": "`avg_mem`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 2,
              "widgetType": "counter",
              "encodings": {
                "value": {
                  "fieldName": "avg_mem",
                  "displayName": "Avg Memory %"
                }
              },
              "frame": {
                "showTitle": true,
                "title": "üíæ Avg Memory Utilization"
              }
            }
          },
          "position": {
            "x": 4,
            "y": 9,
            "width": 2,
            "height": 3
          }
        },
        {
          "widget": {
            "name": "f6607e9d",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "daily_cost_trend",
                  "fields": [
                    {
                      "name": "usage_date",
                      "expression": "`usage_date`"
                    },
                    {
                      "name": "daily_cost",
                      "expression": "`daily_cost`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "bar",
              "encodings": {
                "x": {
                  "fieldName": "usage_date",
                  "scale": {
                    "type": "temporal"
                  },
                  "displayName": "Date"
                },
                "y": {
                  "fieldName": "daily_cost",
                  "scale": {
                    "type": "quantitative"
                  },
                  "displayName": "Daily Cost (USD)"
                },
                "color": {
                  "fieldName": "daily_cost",
                  "scale": {
                    "type": "quantitative",
                    "colorRamp": {
                      "mode": "scheme",
                      "scheme": "orangered"
                    }
                  },
                  "legend": {
                    "hideTitle": true
                  },
                  "displayName": "Cost"
                }
              },
              "frame": {
                "showTitle": true,
                "title": "üìà Daily Cost Trend"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 12,
            "width": 6,
            "height": 8
          }
        },
        {
          "widget": {
            "name": "227e94ec",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "workspace_cost",
                  "fields": [
                    {
                      "name": "workspace_name",
                      "expression": "`workspace_name`"
                    },
                    {
                      "name": "total_cost",
                      "expression": "`total_cost`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "bar",
              "encodings": {
                "x": {
                  "fieldName": "total_cost",
                  "scale": {
                    "type": "quantitative"
                  },
                  "displayName": "Cost (USD)"
                },
                "y": {
                  "fieldName": "workspace_name",
                  "scale": {
                    "type": "categorical"
                  },
                  "displayName": "Workspace"
                },
                "color": {
                  "fieldName": "total_cost",
                  "scale": {
                    "type": "quantitative",
                    "colorRamp": {
                      "mode": "scheme",
                      "scheme": "redyellowgreen",
                      "reverse": true
                    }
                  },
                  "legend": {
                    "hideTitle": true
                  },
                  "displayName": "Cost"
                }
              },
              "frame": {
                "showTitle": true,
                "title": "üè¢ Cost by Workspace"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 20,
            "width": 6,
            "height": 8
          }
        }
      ],
      "pageType": "PAGE_TYPE_CANVAS"
    },
    {
      "name": "29d429e7",
      "displayName": "üë• User Analysis",
      "layout": [
        {
          "widget": {
            "name": "60715adc",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "user_telemetry",
                  "fields": [
                    {
                      "name": "usage_date",
                      "expression": "`usage_date`"
                    },
                    {
                      "name": "sum_cost",
                      "expression": "SUM(`total_cost_usd`)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "bar",
              "encodings": {
                "x": {
                  "fieldName": "usage_date",
                  "scale": {
                    "type": "temporal"
                  },
                  "displayName": "Date"
                },
                "y": {
                  "fieldName": "sum_cost",
                  "scale": {
                    "type": "quantitative"
                  },
                  "displayName": "Total Cost (USD)"
                },
                "color": {
                  "fieldName": "sum_cost",
                  "scale": {
                    "type": "quantitative",
                    "colorRamp": {
                      "mode": "scheme",
                      "scheme": "viridis"
                    }
                  },
                  "legend": {
                    "hideTitle": true
                  },
                  "displayName": "Cost"
                }
              },
              "frame": {
                "showTitle": true,
                "title": "üìà User Cost Trend"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 0,
            "width": 6,
            "height": 8
          }
        },
        {
          "widget": {
            "name": "1b2c48e6",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "user_total_cost",
                  "fields": [
                    {
                      "name": "principal_email",
                      "expression": "`principal_email`"
                    },
                    {
                      "name": "total_cost_usd",
                      "expression": "`total_cost_usd`"
                    },
                    {
                      "name": "total_dbus",
                      "expression": "`total_dbus`"
                    },
                    {
                      "name": "unique_clusters",
                      "expression": "`unique_clusters`"
                    },
                    {
                      "name": "avg_cpu_pct",
                      "expression": "`avg_cpu_pct`"
                    },
                    {
                      "name": "avg_mem_pct",
                      "expression": "`avg_mem_pct`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 1,
              "widgetType": "table",
              "encodings": {
                "columns": [
                  {
                    "fieldName": "principal_email",
                    "displayName": "User",
                    "type": "string",
                    "visible": true,
                    "order": 1,
                    "alignContent": "left",
                    "allowSearch": false
                  },
                  {
                    "fieldName": "total_cost_usd",
                    "displayName": "Total Cost",
                    "type": "number",
                    "visible": true,
                    "order": 2,
                    "alignContent": "right",
                    "allowSearch": false,
                    "numberFormat": "0,0.00"
                  },
                  {
                    "fieldName": "total_dbus",
                    "displayName": "Total DBUs",
                    "type": "number",
                    "visible": true,
                    "order": 3,
                    "alignContent": "right",
                    "allowSearch": false,
                    "numberFormat": "0,0.00"
                  },
                  {
                    "fieldName": "unique_clusters",
                    "displayName": "Clusters",
                    "type": "integer",
                    "visible": true,
                    "order": 4,
                    "alignContent": "right",
                    "allowSearch": false
                  },
                  {
                    "fieldName": "avg_cpu_pct",
                    "displayName": "Avg CPU %",
                    "type": "number",
                    "visible": true,
                    "order": 5,
                    "alignContent": "right",
                    "allowSearch": false,
                    "numberFormat": "0.0"
                  },
                  {
                    "fieldName": "avg_mem_pct",
                    "displayName": "Avg Memory %",
                    "type": "number",
                    "visible": true,
                    "order": 6,
                    "alignContent": "right",
                    "allowSearch": false,
                    "numberFormat": "0.0"
                  }
                ]
              },
              "itemsPerPage": 25,
              "condensed": true,
              "withRowNumber": true,
              "frame": {
                "showTitle": true,
                "title": "üí∞ Top Users by Cost"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 8,
            "width": 6,
            "height": 10
          }
        }
      ],
      "pageType": "PAGE_TYPE_CANVAS"
    },
    {
      "name": "54afe716",
      "displayName": "üñ•Ô∏è Cluster Analysis",
      "layout": [
        {
          "widget": {
            "name": "494ad7d6",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "cluster_telemetry",
                  "fields": [
                    {
                      "name": "usage_date",
                      "expression": "`usage_date`"
                    },
                    {
                      "name": "sum_cost",
                      "expression": "SUM(`total_cost_usd`)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "bar",
              "encodings": {
                "x": {
                  "fieldName": "usage_date",
                  "scale": {
                    "type": "temporal"
                  },
                  "displayName": "Date"
                },
                "y": {
                  "fieldName": "sum_cost",
                  "scale": {
                    "type": "quantitative"
                  },
                  "displayName": "Total Cost (USD)"
                },
                "color": {
                  "fieldName": "sum_cost",
                  "scale": {
                    "type": "quantitative",
                    "colorRamp": {
                      "mode": "scheme",
                      "scheme": "plasma"
                    }
                  },
                  "legend": {
                    "hideTitle": true
                  },
                  "displayName": "Cost"
                }
              },
              "frame": {
                "showTitle": true,
                "title": "üìà Cluster Cost Trend"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 0,
            "width": 6,
            "height": 8
          }
        },
        {
          "widget": {
            "name": "21f15617",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "cluster_total_cost",
                  "fields": [
                    {
                      "name": "cluster_name",
                      "expression": "`cluster_name`"
                    },
                    {
                      "name": "cluster_owner",
                      "expression": "`cluster_owner`"
                    },
                    {
                      "name": "total_cost_usd",
                      "expression": "`total_cost_usd`"
                    },
                    {
                      "name": "avg_cpu_pct",
                      "expression": "`avg_cpu_pct`"
                    },
                    {
                      "name": "avg_mem_pct",
                      "expression": "`avg_mem_pct`"
                    },
                    {
                      "name": "photon_enabled",
                      "expression": "`photon_enabled`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 1,
              "widgetType": "table",
              "encodings": {
                "columns": [
                  {
                    "fieldName": "cluster_name",
                    "displayName": "Cluster",
                    "type": "string",
                    "visible": true,
                    "order": 1,
                    "alignContent": "left",
                    "allowSearch": false
                  },
                  {
                    "fieldName": "cluster_owner",
                    "displayName": "Owner",
                    "type": "string",
                    "visible": true,
                    "order": 2,
                    "alignContent": "left",
                    "allowSearch": false
                  },
                  {
                    "fieldName": "total_cost_usd",
                    "displayName": "Cost",
                    "type": "number",
                    "visible": true,
                    "order": 3,
                    "alignContent": "right",
                    "allowSearch": false,
                    "numberFormat": "0,0.00"
                  },
                  {
                    "fieldName": "avg_cpu_pct",
                    "displayName": "CPU %",
                    "type": "number",
                    "visible": true,
                    "order": 4,
                    "alignContent": "right",
                    "allowSearch": false,
                    "numberFormat": "0.0"
                  },
                  {
                    "fieldName": "avg_mem_pct",
                    "displayName": "Memory %",
                    "type": "number",
                    "visible": true,
                    "order": 5,
                    "alignContent": "right",
                    "allowSearch": false,
                    "numberFormat": "0.0"
                  },
                  {
                    "fieldName": "photon_enabled",
                    "displayName": "Photon",
                    "type": "boolean",
                    "visible": true,
                    "order": 6,
                    "alignContent": "center",
                    "allowSearch": false,
                    "booleanValues": [
                      "false",
                      "true"
                    ]
                  }
                ]
              },
              "itemsPerPage": 25,
              "condensed": true,
              "withRowNumber": true,
              "frame": {
                "showTitle": true,
                "title": "üéØ Cluster Performance"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 8,
            "width": 6,
            "height": 10
          }
        }
      ],
      "pageType": "PAGE_TYPE_CANVAS"
    },
    {
      "name": "99b2ef99",
      "displayName": "üíª Instance Analysis",
      "layout": [
        {
          "widget": {
            "name": "dbae6efe",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "instance_telemetry",
                  "fields": [
                    {
                      "name": "usage_date",
                      "expression": "`usage_date`"
                    },
                    {
                      "name": "sum_cost",
                      "expression": "SUM(`total_cost_usd`)"
                    }
                  ],
                  "disaggregated": false
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "bar",
              "encodings": {
                "x": {
                  "fieldName": "usage_date",
                  "scale": {
                    "type": "temporal"
                  },
                  "displayName": "Date"
                },
                "y": {
                  "fieldName": "sum_cost",
                  "scale": {
                    "type": "quantitative"
                  },
                  "displayName": "Total Cost (USD)"
                },
                "color": {
                  "fieldName": "sum_cost",
                  "scale": {
                    "type": "quantitative",
                    "colorRamp": {
                      "mode": "scheme",
                      "scheme": "turbo"
                    }
                  },
                  "legend": {
                    "hideTitle": true
                  },
                  "displayName": "Cost"
                }
              },
              "frame": {
                "showTitle": true,
                "title": "üìà Instance Cost Trend"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 0,
            "width": 6,
            "height": 8
          }
        },
        {
          "widget": {
            "name": "724777ae",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "instance_total_cost",
                  "fields": [
                    {
                      "name": "instance_type",
                      "expression": "`instance_type`"
                    },
                    {
                      "name": "total_cost_usd",
                      "expression": "`total_cost_usd`"
                    },
                    {
                      "name": "unique_clusters",
                      "expression": "`unique_clusters`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 3,
              "widgetType": "bar",
              "encodings": {
                "x": {
                  "fieldName": "instance_type",
                  "scale": {
                    "type": "categorical"
                  },
                  "displayName": "Instance Type"
                },
                "y": {
                  "fieldName": "total_cost_usd",
                  "scale": {
                    "type": "quantitative"
                  },
                  "displayName": "Total Cost (USD)"
                },
                "color": {
                  "fieldName": "unique_clusters",
                  "scale": {
                    "type": "quantitative",
                    "colorRamp": {
                      "mode": "scheme",
                      "scheme": "spectral"
                    }
                  },
                  "legend": {
                    "hideTitle": false
                  },
                  "displayName": "Cluster Count"
                }
              },
              "frame": {
                "showTitle": true,
                "title": "üíª Cost by Instance Type"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 8,
            "width": 6,
            "height": 10
          }
        },
        {
          "widget": {
            "name": "b471e426",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "instance_total_cost",
                  "fields": [
                    {
                      "name": "instance_type",
                      "expression": "`instance_type`"
                    },
                    {
                      "name": "total_cost_usd",
                      "expression": "`total_cost_usd`"
                    },
                    {
                      "name": "total_dbus",
                      "expression": "`total_dbus`"
                    },
                    {
                      "name": "unique_clusters",
                      "expression": "`unique_clusters`"
                    },
                    {
                      "name": "unique_users",
                      "expression": "`unique_users`"
                    },
                    {
                      "name": "avg_cpu_pct",
                      "expression": "`avg_cpu_pct`"
                    },
                    {
                      "name": "avg_mem_pct",
                      "expression": "`avg_mem_pct`"
                    },
                    {
                      "name": "cpu_efficiency_pct",
                      "expression": "`cpu_efficiency_pct`"
                    },
                    {
                      "name": "memory_efficiency_pct",
                      "expression": "`memory_efficiency_pct`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 1,
              "widgetType": "table",
              "encodings": {
                "columns": [
                  {
                    "fieldName": "instance_type",
                    "displayName": "Instance Type",
                    "type": "string",
                    "visible": true,
                    "order": 1,
                    "alignContent": "left",
                    "allowSearch": false
                  },
                  {
                    "fieldName": "total_cost_usd",
                    "displayName": "Total Cost",
                    "type": "number",
                    "visible": true,
                    "order": 2,
                    "alignContent": "right",
                    "allowSearch": false,
                    "numberFormat": "0,0.00"
                  },
                  {
                    "fieldName": "total_dbus",
                    "displayName": "Total DBUs",
                    "type": "number",
                    "visible": true,
                    "order": 3,
                    "alignContent": "right",
                    "allowSearch": false,
                    "numberFormat": "0,0.00"
                  },
                  {
                    "fieldName": "unique_clusters",
                    "displayName": "Clusters",
                    "type": "integer",
                    "visible": true,
                    "order": 4,
                    "alignContent": "right",
                    "allowSearch": false
                  },
                  {
                    "fieldName": "unique_users",
                    "displayName": "Users",
                    "type": "integer",
                    "visible": true,
                    "order": 5,
                    "alignContent": "right",
                    "allowSearch": false
                  },
                  {
                    "fieldName": "avg_cpu_pct",
                    "displayName": "Avg CPU %",
                    "type": "number",
                    "visible": true,
                    "order": 6,
                    "alignContent": "right",
                    "allowSearch": false,
                    "numberFormat": "0.0"
                  },
                  {
                    "fieldName": "avg_mem_pct",
                    "displayName": "Avg Memory %",
                    "type": "number",
                    "visible": true,
                    "order": 7,
                    "alignContent": "right",
                    "allowSearch": false,
                    "numberFormat": "0.0"
                  },
                  {
                    "fieldName": "cpu_efficiency_pct",
                    "displayName": "CPU Efficiency %",
                    "type": "number",
                    "visible": true,
                    "order": 8,
                    "alignContent": "right",
                    "allowSearch": false,
                    "numberFormat": "0.0"
                  },
                  {
                    "fieldName": "memory_efficiency_pct",
                    "displayName": "Memory Efficiency %",
                    "type": "number",
                    "visible": true,
                    "order": 9,
                    "alignContent": "right",
                    "allowSearch": false,
                    "numberFormat": "0.0"
                  }
                ]
              },
              "itemsPerPage": 25,
              "condensed": true,
              "withRowNumber": true,
              "frame": {
                "showTitle": true,
                "title": "üìä Instance Performance Details"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 18,
            "width": 6,
            "height": 10
          }
        }
      ],
      "pageType": "PAGE_TYPE_CANVAS"
    },
    {
      "name": "fdf6d0d3",
      "displayName": "üí° Optimization Opportunities",
      "layout": [
        {
          "widget": {
            "name": "064c6fe8",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "user_opportunities",
                  "fields": [
                    {
                      "name": "principal_email",
                      "expression": "`principal_email`"
                    },
                    {
                      "name": "total_cost_usd",
                      "expression": "`total_cost_usd`"
                    },
                    {
                      "name": "avg_cpu_pct",
                      "expression": "`avg_cpu_pct`"
                    },
                    {
                      "name": "avg_mem_pct",
                      "expression": "`avg_mem_pct`"
                    },
                    {
                      "name": "opportunity_priority",
                      "expression": "`opportunity_priority`"
                    },
                    {
                      "name": "recommendation",
                      "expression": "`recommendation`"
                    },
                    {
                      "name": "validated_savings",
                      "expression": "`validated_savings`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 1,
              "widgetType": "table",
              "encodings": {
                "columns": [
                  {
                    "fieldName": "principal_email",
                    "displayName": "User",
                    "type": "string",
                    "visible": true,
                    "order": 1,
                    "alignContent": "left",
                    "allowSearch": false
                  },
                  {
                    "fieldName": "total_cost_usd",
                    "displayName": "Current Cost",
                    "type": "number",
                    "visible": true,
                    "order": 2,
                    "alignContent": "right",
                    "allowSearch": false,
                    "numberFormat": "0,0.00"
                  },
                  {
                    "fieldName": "avg_cpu_pct",
                    "displayName": "CPU %",
                    "type": "number",
                    "visible": true,
                    "order": 3,
                    "alignContent": "right",
                    "allowSearch": false,
                    "numberFormat": "0.0"
                  },
                  {
                    "fieldName": "avg_mem_pct",
                    "displayName": "Memory %",
                    "type": "number",
                    "visible": true,
                    "order": 4,
                    "alignContent": "right",
                    "allowSearch": false,
                    "numberFormat": "0.0"
                  },
                  {
                    "fieldName": "opportunity_priority",
                    "displayName": "Priority",
                    "type": "string",
                    "visible": true,
                    "order": 5,
                    "alignContent": "center",
                    "allowSearch": false
                  },
                  {
                    "fieldName": "recommendation",
                    "displayName": "Recommendation",
                    "type": "string",
                    "visible": true,
                    "order": 6,
                    "alignContent": "left",
                    "allowSearch": false
                  },
                  {
                    "fieldName": "validated_savings",
                    "displayName": "Potential Savings",
                    "type": "number",
                    "visible": true,
                    "order": 7,
                    "alignContent": "right",
                    "allowSearch": false,
                    "numberFormat": "0,0.00"
                  }
                ]
              },
              "itemsPerPage": 15,
              "condensed": true,
              "withRowNumber": true,
              "frame": {
                "showTitle": true,
                "title": "üë• User Optimization Opportunities"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 0,
            "width": 6,
            "height": 10
          }
        },
        {
          "widget": {
            "name": "983bee3b",
            "queries": [
              {
                "name": "main_query",
                "query": {
                  "datasetName": "cluster_opportunities",
                  "fields": [
                    {
                      "name": "cluster_name",
                      "expression": "`cluster_name`"
                    },
                    {
                      "name": "cluster_owner",
                      "expression": "`cluster_owner`"
                    },
                    {
                      "name": "total_cost_usd",
                      "expression": "`total_cost_usd`"
                    },
                    {
                      "name": "avg_cpu_pct",
                      "expression": "`avg_cpu_pct`"
                    },
                    {
                      "name": "avg_mem_pct",
                      "expression": "`avg_mem_pct`"
                    },
                    {
                      "name": "opportunity_priority",
                      "expression": "`opportunity_priority`"
                    },
                    {
                      "name": "recommendation",
                      "expression": "`recommendation`"
                    },
                    {
                      "name": "validated_savings",
                      "expression": "`validated_savings`"
                    }
                  ],
                  "disaggregated": true
                }
              }
            ],
            "spec": {
              "version": 1,
              "widgetType": "table",
              "encodings": {
                "columns": [
                  {
                    "fieldName": "cluster_name",
                    "displayName": "Cluster",
                    "type": "string",
                    "visible": true,
                    "order": 1,
                    "alignContent": "left",
                    "allowSearch": false
                  },
                  {
                    "fieldName": "cluster_owner",
                    "displayName": "Owner",
                    "type": "string",
                    "visible": true,
                    "order": 2,
                    "alignContent": "left",
                    "allowSearch": false
                  },
                  {
                    "fieldName": "total_cost_usd",
                    "displayName": "Current Cost",
                    "type": "number",
                    "visible": true,
                    "order": 3,
                    "alignContent": "right",
                    "allowSearch": false,
                    "numberFormat": "0,0.00"
                  },
                  {
                    "fieldName": "avg_cpu_pct",
                    "displayName": "CPU %",
                    "type": "number",
                    "visible": true,
                    "order": 4,
                    "alignContent": "right",
                    "allowSearch": false,
                    "numberFormat": "0.0"
                  },
                  {
                    "fieldName": "avg_mem_pct",
                    "displayName": "Memory %",
                    "type": "number",
                    "visible": true,
                    "order": 5,
                    "alignContent": "right",
                    "allowSearch": false,
                    "numberFormat": "0.0"
                  },
                  {
                    "fieldName": "opportunity_priority",
                    "displayName": "Priority",
                    "type": "string",
                    "visible": true,
                    "order": 6,
                    "alignContent": "center",
                    "allowSearch": false
                  },
                  {
                    "fieldName": "recommendation",
                    "displayName": "Recommendation",
                    "type": "string",
                    "visible": true,
                    "order": 7,
                    "alignContent": "left",
                    "allowSearch": false
                  },
                  {
                    "fieldName": "validated_savings",
                    "displayName": "Potential Savings",
                    "type": "number",
                    "visible": true,
                    "order": 8,
                    "alignContent": "right",
                    "allowSearch": false,
                    "numberFormat": "0,0.00"
                  }
                ]
              },
              "itemsPerPage": 15,
              "condensed": true,
              "withRowNumber": true,
              "frame": {
                "showTitle": true,
                "title": "üñ•Ô∏è Cluster Optimization Opportunities"
              }
            }
          },
          "position": {
            "x": 0,
            "y": 10,
            "width": 6,
            "height": 10
          }
        }
      ],
      "pageType": "PAGE_TYPE_CANVAS"
    }
  ],
  "uiSettings": {
    "theme": {
      "widgetHeaderAlignment": "ALIGNMENT_UNSPECIFIED"
    },
    "genieSpace": {
      "isEnabled": false
    },
    "applyModeEnabled": false
  }
}
